{"version":3,"sources":["../../src/animate/SymbolLoader.js"],"names":["SymbolLoader","use","resource","next","url","data","search","ShapesCache","add","name","nodeName","PIXI","Texture","addToCache","texture","Loader","registerPlugin"],"mappings":";;;;AAAA;;;;;;AAEA;;;;;;;AAOA,IAAIA,eAAe;AACfC,SAAK,aAASC,QAAT,EAAmBC,IAAnB,EAAyB;AAC1B,YAAIC,MAAMF,SAASE,GAAnB;AACA,YAAIC,OAAOH,SAASG,IAApB;;AAEA,YAAI,CAACA,IAAL,EAAW;AACPF;AACH,SAFD,MAEO,IAAIC,IAAIE,MAAJ,CAAW,wBAAX,IAAuC,CAAC,CAA5C,EAA+C;AAClDC,kCAAYC,GAAZ,CAAgBN,SAASO,IAAzB,EAA+BJ,IAA/B;AACH,SAFM,MAEA,IAAIA,KAAKK,QAAL,IAAiBL,KAAKK,QAAL,KAAkB,KAAvC,EAA8C;AACjD;AACA;AACAC,iBAAKC,OAAL,CAAaC,UAAb,CACIX,SAASY,OADb,EAEIZ,SAASO,IAFb;AAIH;AACDN;AACH;AAlBc,CAAnB;;AAqBA;AACAQ,KAAKI,MAAL,CAAYC,cAAZ,CAA2BhB,YAA3B;;kBAEeA,Y","file":"SymbolLoader.js","sourcesContent":["import ShapesCache from './ShapesCache';\r\n\r\n/**\r\n * The middleware for PIXI's ResourceLoader to be able to \r\n * load Flash symbols such as graphics and images.\r\n * @memberof PIXI.animate\r\n * @class SymbolLoader\r\n * @private\r\n */\r\nlet SymbolLoader = {\r\n    use: function(resource, next) {\r\n        let url = resource.url;\r\n        let data = resource.data;\r\n\r\n        if (!data) {\r\n            next();\r\n        } else if (url.search(/\\.shapes\\.(json|txt)$/i) > -1) {\r\n            ShapesCache.add(resource.name, data);\r\n        } else if (data.nodeName && data.nodeName === 'IMG') {\r\n            // Add individual images to the texture cache by their\r\n            // short symbol name, not the URL\r\n            PIXI.Texture.addToCache(\r\n                resource.texture,\r\n                resource.name\r\n            );\r\n        }\r\n        next();\r\n    }\r\n};\r\n\r\n// Assign to the loader\r\nPIXI.Loader.registerPlugin(SymbolLoader);\r\n\r\nexport default SymbolLoader;\r\n"]}